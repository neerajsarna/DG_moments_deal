(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      9558,        245]
NotebookOptionsPosition[      8928,        218]
NotebookOutlinePosition[      9285,        234]
CellTagsIndexPosition[      9242,        231]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.681131130964129*^9, 3.681131145028804*^9}}],

Cell[CellGroupData[{

Cell["Read matrix", "Section",
 CellChangeTimes->{{3.681131155353066*^9, 3.681131157410226*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ReadMatrixSparse", "[", 
    RowBox[{"directoryname_", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"nnz", ",", "result", ",", "sparseformat"}], "}"}], ",", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"sparseformat", " ", "=", " ", 
       RowBox[{
        RowBox[{"Import", "[", 
         RowBox[{
          RowBox[{"StringJoin", "[", 
           RowBox[{"directoryname", ",", "\"\</\>\"", ",", "filename"}], 
           "]"}], ",", "\"\<Table\>\""}], "]"}], "\[LeftDoubleBracket]", 
        RowBox[{"2", ";;", 
         RowBox[{"-", "1"}]}], "\[RightDoubleBracket]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"converting", " ", "to", " ", "mathematica", " ", "format"}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"sparseformat", "\[LeftDoubleBracket]", 
        RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
       RowBox[{
        RowBox[{"sparseformat", "\[LeftDoubleBracket]", 
         RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], "+", "1"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"sparseformat", "\[LeftDoubleBracket]", 
        RowBox[{"All", ",", "2"}], "\[RightDoubleBracket]"}], "=", 
       RowBox[{
        RowBox[{"sparseformat", "\[LeftDoubleBracket]", 
         RowBox[{"All", ",", "2"}], "\[RightDoubleBracket]"}], "+", "1"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"sparseformat", " ", "=", " ", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"sparseformat", "\[LeftDoubleBracket]", 
           RowBox[{"ii", ",", 
            RowBox[{"{", 
             RowBox[{"1", ",", "2"}], "}"}]}], "\[RightDoubleBracket]"}], 
          "\[Rule]", 
          RowBox[{"sparseformat", "\[LeftDoubleBracket]", 
           RowBox[{"ii", ",", "3"}], "\[RightDoubleBracket]"}]}], ",", 
         RowBox[{"{", 
          RowBox[{"ii", ",", "1", ",", 
           RowBox[{"Length", "[", "sparseformat", "]"}]}], "}"}]}], "]"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"result", " ", "=", " ", 
       RowBox[{"SparseArray", "[", "sparseformat", "]"}]}]}]}], 
    "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ReadMatrixFull", "[", 
   RowBox[{"directoryname_", ",", "filename_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "result", "}"}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"Import", "[", 
       RowBox[{
        RowBox[{"StringJoin", "[", 
         RowBox[{"directoryname", ",", "\"\</\>\"", ",", "filename"}], "]"}], 
        ",", "\"\<Table\>\""}], "]"}]}], ";", "\[IndentingNewLine]", 
     "result"}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 CellChangeTimes->{{3.681131159402052*^9, 3.6811311813325357`*^9}, {
  3.681131256721466*^9, 3.6811312962349052`*^9}, {3.68113137849492*^9, 
  3.681131399707399*^9}, {3.681131503149167*^9, 3.681131566788328*^9}, {
  3.681131612860922*^9, 3.681131620332862*^9}, {3.6811316542765903`*^9, 
  3.681131671655809*^9}, {3.681131904323003*^9, 3.681131949316951*^9}, {
  3.681131982563807*^9, 3.681132030290449*^9}, {3.6820544621358423`*^9, 
  3.682054463308844*^9}, {3.682227960144142*^9, 3.682227977953829*^9}, {
  3.682228228960951*^9, 3.68222823665523*^9}, {3.682228326760805*^9, 
  3.682228353073103*^9}, {3.682228486868541*^9, 3.682228487788932*^9}, {
  3.682230131589316*^9, 3.6822301566350937`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"ReadVector", "[", "filename_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"nnz", ",", "result", ",", "sparseformat"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Flatten", "[", 
     RowBox[{"Import", "[", 
      RowBox[{"filename", ",", "\"\<Table\>\""}], "]"}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.6820685319603024`*^9, 3.682068532982291*^9}, {
  3.6820686319756403`*^9, 3.682068641582653*^9}, {3.682068747332656*^9, 
  3.682068750337764*^9}}],

Cell[CellGroupData[{

Cell["Poisson Heat Conduction", "Subsection",
 CellChangeTimes->{{3.6822282560989857`*^9, 3.6822282577410727`*^9}, {
  3.698419503479911*^9, 3.6984195136965437`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
  "directoryname", "=", 
   "\"\</Users/neerajsarna/sciebo/DG_moments_deal/Tests/build/printed_\
matrices\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"filename", " ", "=", " ", "\"\<global_matrix_meshworker\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MeshworkerMat", " ", "=", " ", 
   RowBox[{"ReadMatrixSparse", "[", 
    RowBox[{"directoryname", ",", "filename"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"filename", " ", "=", " ", "\"\<global_matrix_manuel\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ManuelMat", " ", "=", " ", 
   RowBox[{"ReadMatrixSparse", "[", 
    RowBox[{"directoryname", ",", "filename"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.682228274296187*^9, 3.682228319370467*^9}, {
  3.682228361863179*^9, 3.682228373782333*^9}, {3.682228405491519*^9, 
  3.682228408848145*^9}, {3.682228482334509*^9, 3.6822285797084503`*^9}, {
  3.682228622215624*^9, 3.682228627656262*^9}, {3.6822301619658117`*^9, 
  3.6822301709016943`*^9}, {3.6984195206978292`*^9, 3.698419560945312*^9}, {
  3.6984195918127947`*^9, 3.6984195983144197`*^9}, {3.698419863502678*^9, 
  3.698419864751287*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixPlot", "[", 
  RowBox[{"(", 
   RowBox[{"MeshworkerMat", "-", "ManuelMat"}], ")"}], "]"}]], "Input",
 CellChangeTimes->{{3.698419571380603*^9, 3.698419643603539*^9}}],

Cell[BoxData[
 GraphicsBox[
  RasterBox[SparseArray[
   Automatic, {70, 70}, 1., {
    1, {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0}, {}}, {}}], {{0, 0}, {70, 70}}, {0, 1}],
  Frame->True,
  FrameLabel->{None, None},
  FrameTicks->{{{{69.83173076923077, 
       FormBox["1", TraditionalForm]}, {53.34134615384616, 
       FormBox["50", TraditionalForm]}, {36.51442307692308, 
       FormBox["100", TraditionalForm]}, {19.6875, 
       FormBox["150", TraditionalForm]}, {0.16826923076923078`, 
       FormBox["208", TraditionalForm]}}, {{69.83173076923077, 
       FormBox["1", TraditionalForm]}, {53.34134615384616, 
       FormBox["50", TraditionalForm]}, {36.51442307692308, 
       FormBox["100", TraditionalForm]}, {19.6875, 
       FormBox["150", TraditionalForm]}, {0.16826923076923078`, 
       FormBox["208", TraditionalForm]}}}, {{{0.16826923076923078`, 
       FormBox["1", TraditionalForm]}, {16.658653846153847`, 
       FormBox["50", TraditionalForm]}, {33.48557692307693, 
       FormBox["100", TraditionalForm]}, {50.31250000000001, 
       FormBox["150", TraditionalForm]}, {69.83173076923077, 
       FormBox["208", TraditionalForm]}}, {{0.16826923076923078`, 
       FormBox["1", TraditionalForm]}, {16.658653846153847`, 
       FormBox["50", TraditionalForm]}, {33.48557692307693, 
       FormBox["100", TraditionalForm]}, {50.31250000000001, 
       FormBox["150", TraditionalForm]}, {69.83173076923077, 
       FormBox["208", TraditionalForm]}}}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> Automatic, 
    "DefaultPlotStyle" -> Automatic, "DomainPadding" -> Scaled[0.02], 
    "RangePadding" -> Scaled[0.05]}]], "Output",
 CellChangeTimes->{{3.6984195820003843`*^9, 3.6984196440877132`*^9}, 
   3.698419869717854*^9, 3.69841998425849*^9, 3.698420265468726*^9, 
   3.698420569806849*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{808, 651},
WindowMargins->{{4, Automatic}, {Automatic, 4}},
FrontEndVersion->"11.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (September \
21, 2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 189, 4, 32, "Input"],
Cell[CellGroupData[{
Cell[772, 28, 96, 1, 64, "Section"],
Cell[871, 31, 3693, 81, 390, "Input"],
Cell[4567, 114, 572, 14, 75, "Input"],
Cell[CellGroupData[{
Cell[5164, 132, 166, 2, 44, "Subsection"],
Cell[5333, 136, 1246, 28, 159, "Input"],
Cell[CellGroupData[{
Cell[6604, 168, 196, 4, 32, "Input"],
Cell[6803, 174, 2085, 39, 400, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

